<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ednna Chatbot - Netunna Software</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #9b59b6;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark-bg: #1a2431;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #2c3e50 100%);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }
        
        header {
            background: rgba(0, 0, 0, 0.2);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .logo-icon {
            font-size: 2.5rem;
            color: var(--secondary);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .chat-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chat-header {
            background: rgba(52, 152, 219, 0.2);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-messages {
            padding: 20px;
            height: 400px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 18px;
            line-height: 1.4;
        }
        
        .bot-message {
            background: rgba(52, 152, 219, 0.3);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .user-message {
            background: rgba(155, 89, 182, 0.4);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.1);
        }
        
        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            outline: none;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .chat-input input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .chat-input button {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 20px;
            margin-left: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .chat-input button:hover {
            background: var(--accent);
        }
        
        .info-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--light);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .feature {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .feature-icon {
            background: rgba(52, 152, 219, 0.2);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        .feature-text h3 {
            margin-bottom: 5px;
            color: var(--light);
        }
        
        .feature-text p {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .backend-panel {
            grid-column: 1 / -1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .code-container {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        pre {
            font-family: 'Courier New', monospace;
            line-height: 1.5;
            color: var(--light);
        }
        
        .keyword {
            color: #ff79c6;
        }
        
        .string {
            color: #f1fa8c;
        }
        
        .comment {
            color: #6272a4;
        }
        
        .function {
            color: #50fa7b;
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            text-decoration: none;
            transition: background 0.3s;
            margin: 5px;
        }
        
        .btn:hover {
            background: var(--accent);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-warning {
            background: var(--warning);
        }
        
        .btn-danger {
            background: var(--danger);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            color: white;
            border-radius: 10px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon"><i class="fas fa-robot"></i></div>
                <div>
                    <h1>Ednna Chatbot</h1>
                    <p class="subtitle">Solução inteligente da Netunna Software</p>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="chat-container">
                <div class="chat-header">
                    <div class="logo-icon"><i class="fas fa-comments"></i></div>
                    <div>
                        <h2>Ednna Assistant</h2>
                        <p>Conectado ao banco de dados MySQL</p>
                    </div>
                </div>
                
                <div class="chat-messages" id="chat-messages">
                    <div class="message bot-message">
                        Olá! Eu sou a Ednna, assistente virtual da Netunna Software.
                    </div>
                    <div class="message bot-message">
                        Estou integrada com o banco de dados MySQL e posso responder perguntas sobre nossos produtos, serviços e muito mais.
                    </div>
                </div>
                
                <div class="chat-input">
                    <input type="text" id="user-input" placeholder="Digite sua mensagem..." onkeypress="handleKeyPress(event)">
                    <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i> Enviar</button>
                </div>
            </div>
            
            <div class="info-panel">
                <h2 class="info-title">Recursos da Ednna</h2>
                
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-database"></i></div>
                    <div class="feature-text">
                        <h3>Integração com MySQL</h3>
                        <p>Acesso em tempo real às informações da empresa</p>
                    </div>
                </div>
                
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-brain"></i></div>
                    <div class="feature-text">
                        <h3>Inteligência Artificial</h3>
                        <p>Algoritmos de ML para respostas inteligentes</p>
                    </div>
                </div>
                
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-code"></i></div>
                    <div class="feature-text">
                        <h3>Backend em Python</h3>
                        <p>API robusta com Flask e MySQL Connector</p>
                    </div>
                </div>
                
                <div class="feature">
                    <div class="feature-icon"><i class="fab fa-github"></i></div>
                    <div class="feature-text">
                        <h3>Versionamento no GitHub</h3>
                        <p>Controle de versão e deploy contínuo</p>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">Precisão</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Disponibilidade</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">1.2s</div>
                        <div class="stat-label">Tempo de Resposta</div>
                    </div>
                </div>
            </div>
            
            <div class="backend-panel">
                <h2 class="info-title">Backend em Python - Estrutura do Projeto</h2>
                
                <p>O backend do Ednna Chatbot é desenvolvido em Python com Flask e MySQL Connector.</p>
                
                <h3 style="margin: 20px 0 10px 0;">config.py</h3>
                <div class="code-container">
                    <pre>
<span class="keyword">DB_CONFIG</span> = {
    <span class="string">"host"</span>: <span class="string">"localhost"</span>,
    <span class="string">"user"</span>: <span class="string">"noust785_edi_admin"</span>,
    <span class="string">"password"</span>: <span class="string">"N3tunn@21#"</span>,
    <span class="string">"database"</span>: <span class="string">"noust785_edi_ops"</span>
}
                    </pre>
                </div>
                
                <h3 style="margin: 20px 0 10px 0;">app.py (Flask API)</h3>
                <div class="code-container">
                    <pre>
<span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, jsonify
<span class="keyword">import</span> mysql.connector
<span class="keyword">from</span> config <span class="keyword">import</span> DB_CONFIG

app = Flask(__name__)

<span class="function">def</span> <span class="function-name">get_db_connection</span>():
    <span class="keyword">return</span> mysql.connector.connect(**DB_CONFIG)

@app.route(<span class="string">'/api/chat'</span>, methods=[<span class="string">'POST'</span>])
<span class="function">def</span> <span class="function-name">chat</span>():
    data = request.get_json()
    user_message = data.get(<span class="string">'message'</span>)
    
    <span class="comment"># Processar a mensagem e buscar resposta no banco de dados</span>
    connection = get_db_connection()
    cursor = connection.cursor(dictionary=True)
    
    query = <span class="string">"SELECT answer FROM knowledge_base WHERE question LIKE %s"</span>
    cursor.execute(query, (<span class="string">'%'</span> + user_message + <span class="string">'%'</span>,))
    result = cursor.fetchone()
    
    cursor.close()
    connection.close()
    
    <span class="keyword">if</span> result:
        <span class="keyword">return</span> jsonify({<span class="string">'response'</span>: result[<span class="string">'answer'</span>]})
    <span class="keyword">else</span>:
        <span class="keyword">return</span> jsonify({<span class="string">'response'</span>: <span class="string">'Desculpe, não entendi. Pode reformular?'</span>})

<span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:
    app.run(debug=True)
                    </pre>
                </div>
                
                <div style="margin-top: 20px;">
                    <button class="btn btn-success" onclick="simulateDeployment()"><i class="fas fa-cloud-upload-alt"></i> Simular Deploy no Render</button>
                    <button class="btn" onclick="showDatabaseSchema()"><i class="fas fa-database"></i> Ver Esquema do Banco</button>
                    <button class="btn btn-warning" onclick="testConnection()"><i class="fas fa-plug"></i> Testar Conexão com MySQL</button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Netunna Software &copy; 2025 - Desenvolvendo soluções inteligentes para seu negócio</p>
            <p>Backend: Python + Flask + MySQL | Frontend: HTML + CSS + JavaScript | Deploy: Render</p>
        </footer>
    </div>

    <script>
        // Simulação de banco de dados com perguntas e respostas
        const knowledgeBase = [
            {
                question: "quem é você",
                answer: "Eu sou a Ednna, assistente virtual inteligente da Netunna Software. Fui desenvolvida para ajudar com informações sobre produtos, serviços e suporte técnico."
            },
            {
                question: "o que é a netunna software",
                answer: "A Netunna Software é uma empresa especializada em desenvolvimento de soluções inteligentes, incluindo sistemas de gestão, aplicativos personalizados e integração com IA."
            },
            {
                question: "quais serviços vocês oferecem",
                answer: "Oferecemos: desenvolvimento de software personalizado, integração de sistemas, chatbots inteligentes, análise de dados, consultoria em TI e soluções em nuvem."
            },
            {
                question: "como posso entrar em contato",
                answer: "Você pode entrar em contato conosco pelo telefone (11) 3456-7890, pelo email contato@netunna.com.br ou através do nosso site www.netunna.com.br"
            },
            {
                question: "você tem integração com banco de dados",
                answer: "Sim! Estou integrada com um banco de dados MySQL que me permite acessar informações atualizadas em tempo real sobre produtos, clientes e suporte."
            },
            {
                question: "como funciona sua ia",
                answer: "Minha IA utiliza processamento de linguagem natural para entender perguntas e algoritmos de machine learning para melhorar minhas respostas com o tempo, baseando-se no banco de dados da empresa."
            }
        ];
        
        // Função para enviar mensagem
        function sendMessage() {
            const userInput = document.getElementById('user-input');
            const message = userInput.value.trim();
            
            if (message === '') return;
            
            // Adicionar mensagem do usuário ao chat
            addMessage(message, 'user');
            
            // Processar a mensagem e obter resposta
            setTimeout(() => {
                const response = getResponse(message);
                addMessage(response, 'bot');
            }, 1000);
            
            // Limpar o campo de entrada
            userInput.value = '';
        }
        
        // Função para adicionar mensagem ao chat
        function addMessage(text, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'bot-message');
            messageDiv.textContent = text;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Função para obter resposta baseada na pergunta
        function getResponse(question) {
            question = question.toLowerCase();
            
            // Verificar se há uma correspondência direta
            for (const item of knowledgeBase) {
                if (question.includes(item.question)) {
                    return item.answer;
                }
            }
            
            // Respostas padrão para perguntas não encontradas
            const defaultResponses = [
                "Desculpe, não entendi. Pode reformular sua pergunta?",
                "Interessante! Vou precisar consultar essa informação no banco de dados. Pode fazer outra pergunta enquanto isso?",
                "Estou aprendendo ainda. No momento, consigo responder perguntas sobre nossos produtos e serviços.",
                "Não tenho uma resposta para isso no momento. Que tal perguntar sobre nossos serviços?",
                "Minha base de conhecimento ainda não cobre essa pergunta. Entre em contato com nossa equipe para mais detalhes."
            ];
            
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }
        
        // Função para enviar mensagem ao pressionar Enter
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        // Simular deploy no Render
        function simulateDeployment() {
            alert('Simulando deploy no Render...\n\nComandos executados:\n\n1. Git push origin main\n2. Build iniciado no Render\n3. Instalando dependências do Python\n4. Executando migrações de banco de dados\n5. Serviço reiniciado\n\nDeploy realizado com sucesso!');
        }
        
        // Testar conexão com MySQL
        function testConnection() {
            alert('Testando conexão com MySQL...\n\nHost: localhost\nUsuário: noust785_edi_admin\nDatabase: noust785_edi_ops\n\nStatus: Conexão bem-sucedida!');
        }
        
        // Mostrar esquema do banco de dados
        function showDatabaseSchema() {
            alert('Esquema do Banco de Dados MySQL:\n\n- Tabela users: Armazena informações dos usuários\n- Tabela conversations: Registra as conversas\n- Tabela messages: Armazena todas as mensagens\n- Tabela knowledge_base: Base de conhecimento com perguntas e respostas\n- Tabela logs: Registro de logs do sistema');
        }
        
        // Adicionar mensagem inicial após um breve delay
        setTimeout(() => {
            addMessage("Posso responder perguntas sobre a Netunna Software, nossos serviços e como podemos ajudar seu negócio!", 'bot');
        }, 2000);
    </script>
</body>
</html>
